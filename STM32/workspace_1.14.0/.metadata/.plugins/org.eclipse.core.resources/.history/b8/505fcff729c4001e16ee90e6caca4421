
#include <stdio.h>
#include <stdint.h>

#define RCC_BASE_ADRESS 					0x40023800
#define RCC_OFFSET_ADDRESS 					0x30
#define GPIOB_BASE_ADDRESS					0x40020400
#define GPIOB_OFFSET_ADDRESS				0x00
#define GPIOB_ODR_OFFSET					0x14


#define RCC_AHB1ENR (*(int *)(RCC_BASE_ADRESS + RCC_OFFSET_ADDRESS))
#define GPIOB_MODE  (*(int *)(GPIOB_BASE_ADDRESS + GPIOB_OFFSET_ADDRESS))
#define GPIOB_ODR  (*(int *)0x40020414)

void RED_LED(void)
{
	RCC_AHB1ENR |= (0X1 << 1); // ENABLE TO CLOCK
	GPIOB_MODE &= 0XF3FFFFFF; // TO CLEAR 26TH AND 27TH BITS
	GPIOB_MODE |= 0X04000000;  // TO SET  01 TO 26TH AND 27TH BITS OUTPUT MODE
}

void DELAY(void)  //DEALY
{
	int i;
	for(i = 0; i < 900000; i++);
}

void delay(void)  //DEALY
{
	int i;
	for(i = 0; i < 2314000; i++);
}



int main()
{
	while(1)
	{
//		printf("ON\n");
		RED_LED();
		GPIOB_ODR &= ~(0X1 << 13); //	CLEARING TO 13TH BIT PB13
		DELAY();
		GPIOB_ODR |= (0X1 << 13); // SET TO BIT 13
		delay();
//		printf("OFF\n");
	}
}
